<?xml version="1.0" encoding="utf-8"?>
<extension version="3.0" type="plugin" group="system" method="upgrade">
    <name>PLG_SYSTEM_JOOMLAIDENTITY</name>
    <author>Joomla! Project</author>
    <creationDate>March 2018</creationDate>
    <copyright>(C) 2005 - 2018 Open Source Matters. All rights reserved.</copyright>
    <license>GNU General Public License version 2 or later; see LICENSE.txt</license>
    <authorEmail>admin@joomla.org</authorEmail>
    <authorUrl>www.joomla.org</authorUrl>
    <version>1.0.0</version>
    <description>PLG_SYSTEM_JOOMLAIDENTITY_XML_DESCRIPTION</description>

    <files>
        <filename plugin="joomlaidentity">joomlaidentity.php</filename>
        <filename>joomlaidentity.xml</filename>
        <folder>language</folder>
    </files>

    <config>
        <fields name="params">
            <fieldset name="basic" addfieldpath="administrator/components/com_identity/models/fields">
                <field
                        name="isIdentityProvider"
                        type="list"
                        label="PLG_JOOMLAIDENTITY_ISIDENTITYPROVIDER_LABEL"
                        description="PLG_JOOMLAIDENTITY_ISIDENTITYPROVIDER_DESC"
                        class="input-small"
                        default="0"
                        required="true"
                >
                    <option value="0">JNO</option>
                    <option value="1">JYES</option>
                </field>

                <field
                        name="apikey"
                        type="text"
                        label="PLG_JOOMLAIDENTITY_APIKEY_LABEL"
                        description="PLG_JOOMLAIDENTITY_APIKEY_DESC"
                        class="input-xlarge"
                        required="false"
                        showon="isIdentityProvider:0"
                />

                <field
                        name="generalConsent"
                        type="identity.sites"
                        label="PLG_JOOMLAIDENTITY_GENERAL_CONSENT_LABEL"
                        description="PLG_JOOMLAIDENTITY_GENERAL_CONSENT_DESC"
                        class="input-xlarge"
                        required="false"
                        showon="isIdentityProvider:1">
                        <option value="0">PLG_JOOMLAIDENTITY_GENERAL_CONSENT_CHOOSE</option>
                </field>
            </fieldset>
        </fields>
    </config>
</extension>